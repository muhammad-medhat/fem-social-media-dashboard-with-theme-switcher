{"version":3,"file":"myscript.js","names":["darkButton","document","getElementById","lightButton","defaultColorMode","setBody","mode","arguments","length","undefined","body","querySelector","colorModeFromLocalStorage","classList","colorModeFromPreferences","setToggleText","innerText","setColorMode","checked","localStorage","setItem","getItem","window","matchMedia","matches","radioButtons","querySelectorAll","forEach","inp","id","addEventListener","console","log"],"sources":["myscript.js"],"sourcesContent":["/* \r\nThe first time the page is loaded, the color mode set on the preference \r\nis used and set as 'default' in the local storage. \r\n\r\nChanging the default preferences works the same way as changing the \r\ncolor mode using the buttons, if the page is loaded.\r\n\r\nWhen the page is reloaded, whatever is the value set on the local storage\r\nhas precedence over the values in the preference. If the preference\r\nchanged after the page was visited - and the page is not loaded - \r\nthe last value saved on the local storage is loaded. \r\n*/\r\n\r\nconst darkButton = document.getElementById(\"dark\");\r\nconst lightButton = document.getElementById(\"light\");\r\nconst defaultColorMode = \"dark\";\r\n\r\n/**\r\n *\r\n * functions\r\n */\r\n/**\r\n * load and apply theme\r\n */\r\nconst setBody = (mode = defaultColorMode) => {\r\n  // debugger;\r\n  const body = document.querySelector(\"body\");\r\n  colorModeFromLocalStorage\r\n    ? (body.classList = mode)\r\n    : //  : (body.classList = defaultColorMode);\r\n      (body.classList = colorModeFromPreferences());\r\n};\r\nconst setToggleText = (mode = defaultColorMode) => {\r\n  document.querySelector(\".header__toggle>label>spam\").innerText = mode;\r\n};\r\nconst setColorMode = (mode = defaultColorMode) => {\r\n  //document.querySelector(\"body\").classList = mode;\r\n  setBody(mode);\r\n  document.getElementById(mode).checked = true;\r\n  setToggleText(mode);\r\n  // set storage\r\n  localStorage.setItem(\"colorMode\", mode);\r\n};\r\n/**########################################################### */\r\nconst colorModeFromLocalStorage = localStorage.getItem(\"colorMode\");\r\nconst colorModeFromPreferences = () => {\r\n  return window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n    ? \"dark\"\r\n    : \"light\"; // If preference is set or does not match anything (light is default)\r\n};\r\nconst radioButtons = document.querySelectorAll(\".toggle__wrapper input\");\r\nradioButtons.forEach((inp) => {\r\n  const mode = inp.id;\r\n  inp.addEventListener(\"click\", () => {\r\n    // debugger;\r\n    setColorMode(mode);\r\n  });\r\n});\r\n\r\nconsole.log(\"match\", window.matchMedia(\"(prefers-color-scheme: dark)\"));\r\nconsole.log(\"colorModeFromPreferences \", colorModeFromPreferences());\r\nconsole.log(\"colorModeFromLocalStorage \", colorModeFromLocalStorage);\r\n// debugger;\r\ncolorModeFromLocalStorage\r\n  ? setColorMode(colorModeFromLocalStorage)\r\n  : setColorMode(colorModeFromPreferences());\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;AAClD,IAAMC,WAAW,GAAGF,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;AACpD,IAAME,gBAAgB,GAAG,MAAM;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAgC;EAAA,IAA5BC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,gBAAgB;EACtC;EACA,IAAMM,IAAI,GAAGT,QAAQ,CAACU,aAAa,CAAC,MAAM,CAAC;EAC3CC,yBAAyB,GACpBF,IAAI,CAACG,SAAS,GAAGP,IAAI;EACtB;EACCI,IAAI,CAACG,SAAS,GAAGC,wBAAwB,CAAC,CAAE;AACnD,CAAC;AACD,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAgC;EAAA,IAA5BT,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,gBAAgB;EAC5CH,QAAQ,CAACU,aAAa,CAAC,4BAA4B,CAAC,CAACK,SAAS,GAAGV,IAAI;AACvE,CAAC;AACD,IAAMW,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAgC;EAAA,IAA5BX,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,gBAAgB;EAC3C;EACAC,OAAO,CAACC,IAAI,CAAC;EACbL,QAAQ,CAACC,cAAc,CAACI,IAAI,CAAC,CAACY,OAAO,GAAG,IAAI;EAC5CH,aAAa,CAACT,IAAI,CAAC;EACnB;EACAa,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEd,IAAI,CAAC;AACzC,CAAC;AACD;AACA,IAAMM,yBAAyB,GAAGO,YAAY,CAACE,OAAO,CAAC,WAAW,CAAC;AACnE,IAAMP,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAA,EAAS;EACrC,OAAOQ,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,GAC5D,MAAM,GACN,OAAO,CAAC,CAAC;AACf,CAAC;;AACD,IAAMC,YAAY,GAAGxB,QAAQ,CAACyB,gBAAgB,CAAC,wBAAwB,CAAC;AACxED,YAAY,CAACE,OAAO,CAAC,UAACC,GAAG,EAAK;EAC5B,IAAMtB,IAAI,GAAGsB,GAAG,CAACC,EAAE;EACnBD,GAAG,CAACE,gBAAgB,CAAC,OAAO,EAAE,YAAM;IAClC;IACAb,YAAY,CAACX,IAAI,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFyB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEV,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAAC;AACvEQ,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAElB,wBAAwB,CAAC,CAAC,CAAC;AACpEiB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEpB,yBAAyB,CAAC;AACpE;AACAA,yBAAyB,GACrBK,YAAY,CAACL,yBAAyB,CAAC,GACvCK,YAAY,CAACH,wBAAwB,CAAC,CAAC,CAAC"}